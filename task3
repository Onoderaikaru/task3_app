import streamlit as st
import numpy as np

def newton_method(f, x0, eps):
    x = x0
    while True:
        grad = np.gradient(f(x))
        hessian = np.gradient(grad)
        x = x - np.dot(np.linalg.inv(hessian), grad)
        if abs(grad) < eps:
            break
    return x

def minimize_fun():
    st.title("Newton Method Optimization")
    st.write("Enter the function to minimize:")
    fun = st.text_input("f(x) = ")
    x0 = st.number_input("Enter the initial guess:")
    eps = st.number_input("Enter the stopping criteria (epsilon):")
    st.write("Minimizing...")
    result = newton_method(fun, x0, eps)
    st.success("Minimum point is at x = {}".format(result))

if __name__ == '__main__':
    minimize_fun()
